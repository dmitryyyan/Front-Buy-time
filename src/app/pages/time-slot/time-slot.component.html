<div class="page-container">
  <button class="back-button" (click)="navigateToUserPage()">Назад</button>
  <div *ngIf="!userData" class="no-user-data">
    <p>Немає даних користувача.</p>
  </div>
  <div class="user-container">
    <br>
    <h2>Ваші тайм слоти</h2>
    <ul *ngIf="timeSlots.length > 0" class="timeslot-list">
      <ng-container *ngFor="let slot of timeSlots">
        <li class="timeslot-item" *ngIf="!slot.isAvailable">
          <p *ngIf="slot.startTime"><strong>Початковий час:</strong> {{ slot.startTime }}</p>
          <p *ngIf="slot.endTime"><strong>Кінцевий час:</strong> {{ slot.endTime }}</p>
          <p><strong>Активний ?:</strong> ні</p>
          <p><strong>Статус:</strong> {{ slot.isConfirmed ? 'сonfirmed' : 'Pending' }}</p>
          <div *ngIf="slot.userDetails?.firstName; else noData">
            <p><strong>Ім'я користувача:</strong> {{ slot.userDetails.firstName }} {{ slot.userDetails.lastName }}</p>
            <p *ngIf="slot.userDetails?.email"><strong>Email користувача:</strong> {{ slot.userDetails.email }}</p>
          </div>
          <button 
            class="confirm-button" 
            *ngIf="!slot.isConfirmed" 
            (click)="openConfirmationDialog(slot.id)">
            Підтвердити бронювання
          </button>
          <ng-template #noData>
            <p><strong>Даних про користувача немає.</strong></p>
          </ng-template>
        </li>
      </ng-container>
    </ul>
    <div *ngIf="timeSlots.length === 0">
      <p><strong>Немає тайм слотів.</strong></p>
    </div>
  </div>
</div>
